# 🔍 **NestJS의 모듈(Module), 컨트롤러(Controller), 서비스(Service) 관계**

NestJS는 **모듈(Module) 기반 아키텍처**를 사용하여 애플리케이션을 구조화합니다.  
각 역할을 이해하면 코드가 더 명확해지고 유지보수하기 쉬워져요.

* * *

## ✅ **1\. 역할 정리**

| 역할  | 설명  | 예제  |
| --- | --- | --- |
| **모듈(Module)** | 관련된 기능들을 그룹화하는 역할. 서비스와 컨트롤러를 묶어 관리함 | `TodosModule` |
| **컨트롤러(Controller)** | 클라이언트 요청을 받고 응답을 반환하는 역할 (HTTP 라우팅 담당) | `TodosController` |
| **서비스(Service)** | 비즈니스 로직을 처리하고, 데이터를 관리하는 역할 | `TodosService` |

* * *

## 🎯 **2\. 관계 이해하기 (비유)**

NestJS의 구조를 하나의 팀으로 비유해볼게요.

🛠 **모듈(Module) → 프로젝트 팀**

- 한 팀이 특정 기능을 담당 (예: **"할 일 관리 팀"**)

🎤 **컨트롤러(Controller) → 고객 서비스 직원**

- 사용자의 요청을 받고, **서비스(Service)에 전달**
- 서비스로부터 데이터를 받아서 사용자에게 응답
- 예: **"고객이 할 일 목록을 요청하면, 서비스에게 물어보고 대답함"**

⚙️ **서비스(Service) → 내부 로직 담당 엔지니어**

- 데이터를 저장하거나 가공하는 역할
- 예: **"할 일 데이터를 생성, 수정, 삭제하는 역할"**
- 컨트롤러에서 받은 요청을 처리하고, 데이터를 반환

📦 **데이터 (Repository or DB) → 창고**

- 서비스에서 데이터를 가져오고 저장하는 공간
- 예: **"할 일 목록을 보관하는 데이터베이스"**

* * *

## 🏗 **3\. 전체적인 연결 흐름**

```
[클라이언트 요청] → [컨트롤러] → [서비스] → [데이터 처리] → [컨트롤러 응답] → [클라이언트]
```

💡 예제: **새로운 Todo 추가하기**

1. 사용자가 `POST /todos` 요청을 보냄 (`{ "title": "NestJS 배우기" }`)
2. `TodosController.create()`가 호출됨
3. `TodosService.create()`가 실행됨 → 데이터 저장
4. 저장된 데이터를 컨트롤러가 응답으로 반환
5. 클라이언트에게 응답 전달 (`{ id: 1, title: "NestJS 배우기", completed: false }`)

* * *

## 🏁 **4\. 정리**

| 역할  | 설명  | 예제  |
| --- | --- | --- |
| **모듈(Module)** | 관련된 기능(컨트롤러 + 서비스)을 묶는 역할 | `TodosModule` |
| **컨트롤러(Controller)** | HTTP 요청을 처리하고 응답을 반환 | `TodosController` |
| **서비스(Service)** | 비즈니스 로직을 처리하고 데이터 관리 | `TodosService` |

✅ 컨트롤러는 요청을 받고 **서비스를 호출**  
✅ 서비스는 데이터 로직을 처리하고 **결과를 컨트롤러에 반환**  
✅ 모듈은 컨트롤러와 서비스를 **묶어 관리**

* * *

## 🚀 **5\. 다음 스텝**

1. **데이터베이스 연동 (TypeORM, Prisma)**
2. **Middleware, Guards, Interceptors 활용**
3. **NestJS를 활용한 대규모 프로젝트 설계**